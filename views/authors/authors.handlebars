<article>
	<h2 class="page-title">Authors</h2>
	<h3>Add a New Author</h3>
	<form action="/authors" method="POST" id="new-author">

		<fieldset>
			<label for="fname">First Name
				<input type="text" id="add-fname" name="fname">
			</label>

			<label for="lname">Last Name
				<input type="text" id="add-lname" name="lname">
			</label>

			<input type="submit" id="new-author-submit" name="add" value="Submit" >
		</fieldset>

	</form>

	<div id="author-edit-form">
		<h3>Edit Genre</h3>
		<form action="/authors" method="POST" >

		<fieldset>
			<input type="hidden" id="edit-author-id" name="authorID" value=""/>
			
			<label for="editfname">Edit First Name
				<input type="text" id="edit-author-fname" name="fname" value="">
			</label>

			<label for="editlname">Edit Last Name
				<input type="text" id="edit-author-lname" name="lname" value="">
			</label>

			<input type="submit" id="edit-author-submit" name="edit" value="Submit">
		</fieldset>

		</form>
	</div>

	<h3>Current Authors in the Library</h3>
		{{#if error}}
			<p>We're sorry, that author cannot currently be removed as they are currently an author on the following title(s):</p>
			<ul>
			{{#each errorBookTitles}}
				<li>{{title}}</li>
			{{/each}}
			</ul>
			<p>Please delete or update those books accordingly and try again.</p>
		{{/if}}
	<table>
		<thead>
			<tr>
				<th>First Name</th>
				<th>Last Name</th>
				<th>Edit</th>
				<th>Delete</th>
			</tr>
		</thead>
		{{#each authors}}
			<tr>
				<td id="{{this.id}}-fname">{{this.fname}}</td>
				<td id="{{this.id}}-lname">{{this.lname}}</td>
				<td>
					<form>
						<input type="hidden" class="author-id" name="author-id" value="{{this.id}}" />
						<input type="submit" class="author-edit" name="edit" value="Edit" />
					</form>
				</td>
				<td>
					<form action="/authors" method="POST" id="delete-author">
						<input type="hidden" value="{{this.id}}" name="authorID"/>
						<input type="submit" class="delete" name="delete" value="Delete" />
					</form>
				</td>
			</tr>
		{{/each}}
	</table>
</article>
